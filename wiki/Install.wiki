#labels Featured,Phase-Deploy
= 如何编译代码？ =


== 环境 ==
# Java
需要Java SDK 1.6
下载地址：http://www.oracle.com/technetwork/java/javase/downloads/index.html

# Groovy
需要安装Groovy 1.7.5
下载地址：http://groovy.codehaus.org/Download

# Google App Engine SDK
需要安装Google App Engine SDK for Java 1.3.8
下载地址：http://code.google.com/appengine/downloads.html


# 编译
将下载的ratte-x.x-src.zip文件解压至某个目录下，比如ratte，
目录结构如下所示：
---ratte
  |
  |---- docs
  |---- src
  |---- war
        |--- css
        |--- images
        |--- js
        |--- WEB-INF
        |--- xxx...


通过命令行进入根目录下，
{{{
> groovy build.groovy
}}}

这样编译后的class将会放到WEB-INF/classes下，
如果没有错误，可以接着下一步。

# 修改配置
打开WEB-INF/config.groovy文件
// twitter oauth
{{{
twitter {
    username = "rainboyan"
    oauth.consumer_key = "5xEg1VuinKkKiwK4jkEUA"
    oauth.consumer_secret = "aTOmGbKuinblP5jLzhzHDsb95LpVBSf3vCFil0inyT"
    oauth.token = "45569022-EH78EcCopnhuyTR3qMF1jAsIDRFFV6d4T1VWwLwDs"
    oauth.token_secret = "gQbNYrTsfEGTVRWVVBLeNh1RlFpOCUYdFdkoJAqwEIa"
}
}}}
替换掉你自己twitter的 username以及申请的app相关oauth参数。

另外，如果你有sina微博和豆瓣账号，同样也先申请App Key，并且验证通过获得Access Token，更新如下，这个是用来同步twitter到国内账号的。如果不需要，请删除掉配置。也行下个版本，不需要再自己申请了，直接使用我提供的。
{{{
sina {
    oauth.consumer_key = "23708456"
    oauth.consumer_secret = "24fb98a12f8d6029e169efe92acr4d9b"
    oauth.token = "a6708cc45e72469xe3a6720hwf9c0cwq"
    oauth.token_secret = "ea0e6b91we0e8e7e58a78v42ta13ae7at"
}

douban {
    oauth.consumer_key = "08ooooooooo90a19992e13ewdh8ee"
    oauth.consumer_secret = "4ewaf9htfb3a452"
    oauth.token = "c18246812797da4464f0483766efg"
    oauth.token_secret = "35ge0c46e934167j"
    oauth.callback = "http://rainboyan.appspot.com/"
}
}}}

修改application的ID和version
打开WEB-INF/appengine-web.xml，修改第二行
{{{
    <application>rainboyan</application>
    
    <version>1</version>
}}}

# 部署
{{{
> appcfg.cmd update war
}}}

将会提示输入GAE应用的Gmail账号，输入密码后，如果网络一切正常，将会部署成功。

这事你可以打开浏览器：http://app-id.appspot.com/

如果你下载的是ratter-x.x-bin.war，那么跳过编译环节，直接上传即可。